(()=>{"use strict";var e,t={448:(e,t,r)=>{var a=r(440),s=r.n(a);const o={type:s().AUTO,parent:"game",backgroundColor:"#50AFF0",scale:{width:800,height:500,mode:s().Scale.FIT,autoCenter:s().Scale.CENTER_BOTH},render:{pixelArt:!0},physics:{default:"arcade",arcade:{gravity:{y:750},debug:!1,debugShowVelocity:!0,debugShowBody:!0,debugShowStaticBody:!0}}};function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,c(a.key),a)}}function c(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=n(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==n(t)?t:t+""}function l(e,t,r){return t=d(t),function(e,t){if(t&&("object"==n(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,r||[],d(e).constructor):t.apply(e,r))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var a=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(a){var s=Object.getOwnPropertyDescriptor(a,t);return s.get?s.get.call(arguments.length<3?e:r):s.value}},u.apply(null,arguments)}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}const m=function(e){function t(e,r,a){var s;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),s=l(this,t,[e,r,a,"hero-run-sheet",0]),e.add.existing(s),e.physics.add.existing(s),s.body.setCollideWorldBounds(!0),s.body.setSize(25,55),s.body.setOffset(30,5),s.body.setMaxVelocity(250,400),s.body.setDragX(750),s.keys=e.cursors,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(t,e),r=t,(a=[{key:"preUpdate",value:function(e,r){u(d(t.prototype),"preUpdate",this).call(this,e,r),this.keys.left.isDown?(this.body.setAccelerationX(-800),this.setFlipX(!0),this.body.offset.x=8,this.anims.play("hero-running",!0)):this.keys.right.isDown?(this.body.setAccelerationX(800),this.setFlipX(!1),this.body.offset.x=12,this.anims.play("hero-running",!0)):this.body.onFloor()?(this.canDoubleJump=!1,this.body.setAccelerationX(0),this.anims.play("hero-idle",!0)):this.anims.play("hero-jumping",!0),this.body.velocity.y>0&&(this.isJumping=!1),s().Input.Keyboard.JustDown(this.keys.up)&&(this.body.onFloor()?(this.isJumping=!0,this.canDoubleJump=!0,this.body.setVelocityY(-350)):this.canDoubleJump&&(this.isJumping=!0,this.canDoubleJump=!1,this.body.setVelocityY(-320))),!this.keys.up.isDown&&this.body.velocity.y<-150&&this.isJumping&&this.body.setVelocityY(-150)}}])&&i(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a}(s().GameObjects.Sprite);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function y(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,g(a.key),a)}}function g(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!=p(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==p(t)?t:t+""}function b(e,t,r){return t=w(t),function(e,t){if(t&&("object"==p(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,v()?Reflect.construct(t,r||[],w(e).constructor):t.apply(e,r))}function v(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v=function(){return!!e})()}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}const O=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),b(this,t,[{key:"GameScene"}])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(t,e),r=t,(a=[{key:"preload",value:function(){this.load.audio("background-music","assets/bgm.mp3"),this.load.spritesheet("hero-idle-sheet","assets/combined_idle.png",{frameWidth:48,frameHeight:64}),this.load.spritesheet("hero-run-sheet","assets/combined_resized_run_2x.png",{frameWidth:48,frameHeight:64}),this.load.spritesheet("hero-jump-sheet","assets/combined_jump.png",{frameWidth:48,frameHeight:64}),this.load.image("star1","assets/monster1.png"),this.load.image("star2","assets/monster2.png"),this.load.image("star3","assets/monster3.png"),this.load.image("ground","assets/platform.png"),this.load.image("ground2","assets/platform2.png"),this.load.image("ground3","assets/platform3.png"),this.load.image("cherry","assets/cherry.png"),this.load.image("cherry2","assets/cherry2.png"),this.load.image("wood","assets/枯木.png"),this.load.image("end","assets/flag.png"),this.load.image("bench","assets/bench.png"),this.load.spritesheet("star-collect1","assets/cloud.png",{frameWidth:72,frameHeight:36}),this.load.spritesheet("star-collect2","assets/bstar.png",{frameWidth:26,frameHeight:26}),this.load.spritesheet("star-collect3","assets/sstar.png",{frameWidth:26,frameHeight:28}),this.load.spritesheet("star-collect4","assets/balloonr.png",{frameWidth:28,frameHeight:44}),this.load.spritesheet("star-collect5","assets/balloonp.png",{frameWidth:28,frameHeight:44}),this.load.spritesheet("star-collect6","assets/firework1.png",{frameWidth:28,frameHeight:44}),this.load.spritesheet("star-collect7","assets/firework2.png",{frameWidth:30,frameHeight:32}),this.load.spritesheet("star-collect8","assets/firework4.png",{frameWidth:30,frameHeight:32}),this.load.spritesheet("star-collect9","assets/tree.png",{frameWidth:30,frameHeight:42}),this.load.spritesheet("star-collect10","assets/tree2.png",{frameWidth:40,frameHeight:40}),this.load.spritesheet("star-collect11","assets/flower.png",{frameWidth:30,frameHeight:30}),this.load.image("background1","assets/sky1.png"),this.load.image("background2","assets/sky2.png"),this.load.image("background3","assets/sky3.png")}},{key:"create",value:function(e){this.backgroundMusic=this.sound.add("background-music",{loop:!0,volume:.5}),this.backgroundMusic.play(),this.add.image(500,250,"background1"),this.add.image(1500,250,"background2"),this.add.image(2500,250,"background3"),this.cursors=this.input.keyboard.createCursorKeys(),this.scoreText=this.add.text(10,0," ",{fontSize:"34px",color:"pink",fontFamily:"Pixels"}),this.score=0,this.anims.create({key:"hero-idle",frames:this.anims.generateFrameNumbers("hero-idle-sheet"),frameRate:10,repeat:-1}),this.anims.create({key:"hero-running",frames:this.anims.generateFrameNumbers("hero-run-sheet",{start:0,end:7}),frameRate:10,repeat:-1}),this.anims.create({key:"hero-jumping",frames:this.anims.generateFrameNumbers("hero-jump-sheet"),frameRate:10,repeat:-1}),this.anims.create({key:"star-collect-animation1",frames:this.anims.generateFrameNumbers("star-collect1"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation2",frames:this.anims.generateFrameNumbers("star-collect2"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation3",frames:this.anims.generateFrameNumbers("star-collect3"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation4",frames:this.anims.generateFrameNumbers("star-collect4"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation5",frames:this.anims.generateFrameNumbers("star-collec5"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation6",frames:this.anims.generateFrameNumbers("star-collect6"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation7",frames:this.anims.generateFrameNumbers("star-collect7"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation8",frames:this.anims.generateFrameNumbers("star-collect8"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation9",frames:this.anims.generateFrameNumbers("star-collect9"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation10",frames:this.anims.generateFrameNumbers("star-collect10"),frameRate:10,hideOnComplete:!0}),this.anims.create({key:"star-collect-animation11",frames:this.anims.generateFrameNumbers("star-collect11"),frameRate:10,hideOnComplete:!0}),this.hero=new m(this,10,160),this.physics.world.setBounds(0,0,3e3,500),this.cameras.main.setBounds(0,0,3e3,500),this.cameras.main.startFollow(this.hero);var t=this.physics.add.staticGroup(),r=t.create(170,420,"ground2").setScale(.28,.04).refreshBody(),a=t.create(320,340,"ground2").setScale(.35,.1).refreshBody(),o=t.create(450,450,"ground2").setScale(.25,.5).refreshBody(),n=t.create(600,330,"ground2").setScale(.3,.06).refreshBody(),i=(t.create(300,485,"wood"),t.create(750,290,"ground2").setScale(.2,.1).refreshBody()),c=t.create(900,410,"ground").setScale(.47,.06).refreshBody(),l=t.create(1140,350,"ground").setScale(.35,.1).refreshBody(),h=(t.create(1350,420,"ground").setScale(.22,.06).refreshBody(),t.create(1320,395,"cherry"),t.create(1500,450,"ground").setScale(.2,.3).refreshBody()),u=t.create(1700,400,"ground").setScale(.3,.06).refreshBody(),d=t.create(1920,380,"ground3").setScale(.18,.4).refreshBody(),f=t.create(2100,310,"ground3").setScale(.4,.06).refreshBody(),p=t.create(2250,440,"ground3").setScale(.25,.2).refreshBody(),y=(t.create(2410,465,"cherry").setScale(1.5),t.create(1870,480,"cherry2").setScale(1.1),t.create(2600,400,"ground3").setScale(.15,.08).refreshBody()),g=t.create(2760,450,"ground3").setScale(.25,.1).refreshBody();this.add.image(2980,485,"end").setScale(.075),this.add.image(2480,485,"bench"),this.physics.add.existing(t,!0),this.physics.add.collider(this.hero,t);var b=["star1","star2","star3"],v=this.physics.add.group({key:"star",repeat:35,setXY:{x:200,y:-100,stepX:80}});v.children.iterate((function(e){var t=s().Math.RND.pick(b);e.setTexture(t),e.setBounceY(s().Math.FloatBetween(.5,.8));var r=Math.random()<.5;e.setData("flyAway",r),console.log("Setting flyAway: ".concat(r," for star at (").concat(e.x,", ").concat(e.y,")"))}));var w=[r,a,o,n,i,c,l,h,u,d,f,p,y,g];this.physics.add.collider(v,w),this.physics.add.overlap(this.hero,v,this.collectStar,null,this)}},{key:"getRandomCollectTexture1",value:function(){return s().Math.RND.pick(["star-collect1","star-collect2","star-collect3","star-collect4","star-collect5","star-collect6","star-collect7","star-collect8"])}},{key:"getRandomCollectTexture2",value:function(){return s().Math.RND.pick(["star-collect9","star-collect10","star-collect11"])}},{key:"collectStar",value:function(e,t){var r=this;t.disableBody(!0,!0);var a=t.getData("flyAway");if(console.log("Collecting star at (".concat(t.x,", ").concat(t.y,") flyAway: ").concat(a)),a){var o=this.getRandomCollectTexture1(),n=this.add.sprite(t.x,t.y,o);this.tweens.add({targets:n,x:{getStart:function(){return n.x},getEnd:function(){return s().Math.Between(r.cameras.main.scrollX+10,r.cameras.main.scrollX+r.cameras.main.width-10)}},y:{getStart:function(){return n.y},getEnd:function(){return s().Math.Between(r.cameras.main.scrollY+10,r.cameras.main.scrollY+r.cameras.main.height/2)}},duration:1e3,ease:"Power1",onComplete:function(){r.tweens.add({targets:n,y:n.y-5,x:n.x-5,duration:1e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}})}else{var i=this.getRandomCollectTexture2();this.add.sprite(t.x,t.y,i)}this.score+=10,this.scoreText.setText("Score: "+this.score).setScrollFactor(0)}},{key:"update",value:function(e,t){this.hero.x>=2980&&(this.showEndDialog(),console.log("arrived"))}},{key:"showEndDialog",value:function(){document.getElementById("endDialog").style.display="block"}}])&&y(r.prototype,a),Object.defineProperty(r,"prototype",{writable:!1}),r;var r,a}(s().Scene);new(s().Game)(Object.assign(o,{scene:[O]}))}},r={};function a(e){var s=r[e];if(void 0!==s)return s.exports;var o=r[e]={exports:{}};return t[e].call(o.exports,o,o.exports,a),o.exports}a.m=t,e=[],a.O=(t,r,s,o)=>{if(!r){var n=1/0;for(h=0;h<e.length;h++){for(var[r,s,o]=e[h],i=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(a.O).every((e=>a.O[e](r[c])))?r.splice(c--,1):(i=!1,o<n&&(n=o));if(i){e.splice(h--,1);var l=s();void 0!==l&&(t=l)}}return t}o=o||0;for(var h=e.length;h>0&&e[h-1][2]>o;h--)e[h]=e[h-1];e[h]=[r,s,o]},a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={524:0};a.O.j=t=>0===e[t];var t=(t,r)=>{var s,o,[n,i,c]=r,l=0;if(n.some((t=>0!==e[t]))){for(s in i)a.o(i,s)&&(a.m[s]=i[s]);if(c)var h=c(a)}for(t&&t(r);l<n.length;l++)o=n[l],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(h)},r=self.webpackChunkphaser3_es6_webpack_boilerplate=self.webpackChunkphaser3_es6_webpack_boilerplate||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var s=a.O(void 0,[121],(()=>a(448)));s=a.O(s)})();